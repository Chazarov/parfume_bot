{% extends 'catalogs/base.html' %}
{% load static %}

{% block title %} Main page {% endblock %}



{% block style_dependencies %}
    <link rel="stylesheet" href="{% static  'other/font-awesome/css/all.css' %}">
    <link rel="stylesheet" href="{% static 'styles/slider.css' %} ">
    <link rel="stylesheet" href="{% static 'styles/main.css' %} ">
    <link rel="stylesheet" href="{% static 'styles/product.css' %} ">

    <style>
        {% for i in range_images %}
            {% if forloop.first %}
                #switch{{ forloop.counter }}:checked ~ #slides .image {
                    margin-left: 0;
                }
            {% else %}
                #switch{{ forloop.counter }}:checked ~ #slides .image {
                    margin-left: -{{ i }}00%;
                }
            {% endif %}
        {% endfor %}


        {% for i in range_images %}
            #switch{{ forloop.counter }}:checked ~ #active label:nth-child({{forloop.counter}}){
                background: var(--second_color);
                border-color: var(--second_color) !important;
            }
        {% endfor %}


    </style>
{% endblock %}


{% block header %}{% endblock %}


{% block content%}
    <div class="all">
        <input checked type="radio" name="respond" id="desktop"/>
            <article id="slider">
                
                {% for i in range_images %}
                    <input {% if forloop.first %}checked{% endif %} type="radio" name="slider" id="switch{{forloop.counter}}" >
                {% endfor %}
                <div id="slides">
                    <div id="overflow">
                        <div class="image">
                            {% for image in images %}
                                <article><img src="{{ image.image.url }}"></article>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                <div id="active">
                    {% for i in range_images %}
                        <label for="switch{{i}}"></label>
                    {% endfor %}
                    
                </div>
                <div class="center-buttons">
                    <button class="square-btn" id = "next_button"><img src="{% static 'img/prev.png' %}"></button>
                    <button class="square-btn" id = "prev_button"><img src="{% static 'img/next.png' %}"></button>
                </div>
            </article>
    </div>
{% endblock %}

{% block scripts_dependensies %}
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="{% static 'js/navigation_buttons.js' %} "></script>
{% endblock %}



